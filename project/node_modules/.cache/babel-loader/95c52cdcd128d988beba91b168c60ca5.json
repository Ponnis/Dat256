{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\sarah\\\\OneDrive\\\\Documents\\\\Dat256\\\\project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\sarah\\\\OneDrive\\\\Documents\\\\Dat256\\\\project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\sarah\\\\OneDrive\\\\Documents\\\\Dat256\\\\project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\sarah\\\\OneDrive\\\\Documents\\\\Dat256\\\\project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\sarah\\\\OneDrive\\\\Documents\\\\Dat256\\\\project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\sarah\\\\OneDrive\\\\Documents\\\\Dat256\\\\project\\\\src\\\\producerPage\\\\ProductsPage.js\";\nimport React from \"react\";\nimport \"./producerPage.css\";\nimport ProducerProduct from \"./ProducerProduct\";\nimport { getFarmerById, getSKU } from '../farmerInformation/Farmers';\n\nvar ProductsPage =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ProductsPage, _React$Component);\n\n  function ProductsPage() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ProductsPage);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ProductsPage)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.addProduct = function () {\n      var tempArr = _this.getProducts().slice();\n\n      var sku = \"\" + getSKU(parseInt(_this.props.loggedIn));\n      var newProduct = {\n        name: \"ny vara\",\n        price: 0,\n        sku: sku\n      };\n      tempArr.push(newProduct);\n      getFarmerById(parseInt(_this.props.loggedIn)).products = tempArr;\n\n      _this.forceUpdate();\n    };\n\n    _this.handleChange = function (sku, property, value) {\n      var i = 0;\n\n      _this.getProducts().forEach(function (product) {\n        if (product.sku === sku) {\n          var newArray = _this.getProducts;\n          var newPro = product;\n          newPro[property] = value;\n          newArray[i] = newPro;\n\n          _this.forceUpdate();\n        }\n\n        ++i;\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(ProductsPage, [{\n    key: \"getProducts\",\n    value: function getProducts() {\n      var products = getFarmerById(parseInt(this.props.loggedIn)).products;\n      return products;\n    } //saving updates in inventory array\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var products = this.getProducts().map(function (product) {\n        return React.createElement(ProducerProduct, {\n          product: product,\n          onUserInput: _this2.handleChange,\n          sku: product.sku,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 39\n          },\n          __self: this\n        });\n      });\n      return (//Contains everything regaring the proucts, the container contains teh headings, \n        //all products and a button for adding new products.\n        React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 43\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"ProductHeadings\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44\n          },\n          __self: this\n        }, React.createElement(\"h6\", {\n          className: \"Heading\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45\n          },\n          __self: this\n        }, \"Antal (st)\"), React.createElement(\"h6\", {\n          className: \"Heading\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46\n          },\n          __self: this\n        }, \" Varunamn\"), React.createElement(\"h6\", {\n          className: \"Heading\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47\n          },\n          __self: this\n        }, \"Pris (SEK)\")), products, React.createElement(\"button\", {\n          className: \"AddButton\",\n          onClick: this.addProduct,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50\n          },\n          __self: this\n        }, \"L\\xE4gg till ny vara\"))\n      );\n    }\n  }]);\n\n  return ProductsPage;\n}(React.Component);\n\nexport default ProductsPage;","map":{"version":3,"sources":["C:\\Users\\sarah\\OneDrive\\Documents\\Dat256\\project\\src\\producerPage\\ProductsPage.js"],"names":["React","ProducerProduct","getFarmerById","getSKU","ProductsPage","addProduct","tempArr","getProducts","slice","sku","parseInt","props","loggedIn","newProduct","name","price","push","products","forceUpdate","handleChange","property","value","i","forEach","product","newArray","newPro","map","Component"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,oBAAP;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AACA,SAASC,aAAT,EAAwBC,MAAxB,QAAsC,8BAAtC;;IAEMC,Y;;;;;;;;;;;;;;;;;;UAGFC,U,GAAY,YAAI;AACZ,UAAIC,OAAO,GAAG,MAAKC,WAAL,GAAmBC,KAAnB,EAAd;;AACA,UAAIC,GAAG,GAAG,KAAKN,MAAM,CAACO,QAAQ,CAAC,MAAKC,KAAL,CAAWC,QAAZ,CAAT,CAArB;AACA,UAAIC,UAAU,GAAG;AAACC,QAAAA,IAAI,EAAC,SAAN;AAAiBC,QAAAA,KAAK,EAAC,CAAvB;AAA0BN,QAAAA,GAAG,EAACA;AAA9B,OAAjB;AACAH,MAAAA,OAAO,CAACU,IAAR,CAAaH,UAAb;AACAX,MAAAA,aAAa,CAACQ,QAAQ,CAAC,MAAKC,KAAL,CAAWC,QAAZ,CAAT,CAAb,CAA6CK,QAA7C,GAAwDX,OAAxD;;AACA,YAAKY,WAAL;AACH,K;;UAQDC,Y,GAAa,UAACV,GAAD,EAAMW,QAAN,EAAgBC,KAAhB,EAAwB;AACjC,UAAIC,CAAC,GAAG,CAAR;;AACA,YAAKf,WAAL,GAAmBgB,OAAnB,CAA2B,UAAAC,OAAO,EAAG;AACjC,YAAGA,OAAO,CAACf,GAAR,KAAgBA,GAAnB,EAAuB;AACnB,cAAIgB,QAAQ,GAAG,MAAKlB,WAApB;AACA,cAAImB,MAAM,GAAGF,OAAb;AACAE,UAAAA,MAAM,CAACN,QAAD,CAAN,GAAmBC,KAAnB;AACAI,UAAAA,QAAQ,CAACH,CAAD,CAAR,GAAcI,MAAd;;AACA,gBAAKR,WAAL;AACH;;AACD,UAAEI,CAAF;AACH,OATD;AAUH,K;;;;;;;kCAlBY;AACT,UAAML,QAAQ,GAAGf,aAAa,CAACQ,QAAQ,CAAC,KAAKC,KAAL,CAAWC,QAAZ,CAAT,CAAb,CAA6CK,QAA9D;AACA,aAAOA,QAAP;AACH,K,CAED;;;;6BAeQ;AAAA;;AACJ,UAAIA,QAAQ,GAAG,KAAKV,WAAL,GAAmBoB,GAAnB,CAAuB,UAAAH,OAAO;AAAA,eAAI,oBAAC,eAAD;AAAiB,UAAA,OAAO,EAAEA,OAA1B;AAAmC,UAAA,WAAW,EAAE,MAAI,CAACL,YAArD;AAAmE,UAAA,GAAG,EAAEK,OAAO,CAACf,GAAhF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAJ;AAAA,OAA9B,CAAf;AACA,aACI;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAK,UAAA,SAAS,EAAE,iBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAI,UAAA,SAAS,EAAE,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,EAEI;AAAI,UAAA,SAAS,EAAE,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAFJ,EAGI;AAAI,UAAA,SAAS,EAAE,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAHJ,CADJ,EAMKQ,QANL,EAOI;AAAQ,UAAA,SAAS,EAAE,WAAnB;AAAgC,UAAA,OAAO,EAAE,KAAKZ,UAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAPJ;AAHJ;AAaH;;;;EA/CsBL,KAAK,CAAC4B,S;;AAkDjC,eAAexB,YAAf","sourcesContent":["import React from \"react\"\r\nimport \"./producerPage.css\"\r\nimport ProducerProduct from \"./ProducerProduct\"\r\nimport { getFarmerById, getSKU } from '../farmerInformation/Farmers'\r\n\r\nclass ProductsPage extends React.Component{\r\n\r\n    //function to add new products to inventory\r\n    addProduct =()=>{\r\n        let tempArr = this.getProducts().slice()\r\n        let sku = \"\" + getSKU(parseInt(this.props.loggedIn))\r\n        let newProduct = {name:\"ny vara\", price:0, sku:sku}\r\n        tempArr.push(newProduct)\r\n        getFarmerById(parseInt(this.props.loggedIn)).products = tempArr\r\n        this.forceUpdate()\r\n    }\r\n\r\n    getProducts(){\r\n        const products = getFarmerById(parseInt(this.props.loggedIn)).products;\r\n        return products\r\n    }\r\n\r\n    //saving updates in inventory array\r\n    handleChange=(sku, property, value)=>{\r\n        let i = 0\r\n        this.getProducts().forEach(product =>{\r\n            if(product.sku === sku){\r\n                let newArray = this.getProducts\r\n                let newPro = product\r\n                newPro[property] = value\r\n                newArray[i] = newPro\r\n                this.forceUpdate()\r\n            }\r\n            ++i\r\n        });\r\n    }\r\n\r\n    render(){\r\n        let products = this.getProducts().map(product => <ProducerProduct product={product} onUserInput={this.handleChange} sku={product.sku}/>);\r\n        return(\r\n            //Contains everything regaring the proucts, the container contains teh headings, \r\n            //all products and a button for adding new products.\r\n            <div>\r\n                <div className={\"ProductHeadings\"}>\r\n                    <h6 className={\"Heading\"} >Antal (st)</h6>\r\n                    <h6 className={\"Heading\"}> Varunamn</h6>\r\n                    <h6 className={\"Heading\"} >Pris (SEK)</h6>\r\n                </div>\r\n                {products}\r\n                <button className={\"AddButton\"} onClick={this.addProduct}>LÃ¤gg till ny vara</button>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ProductsPage"]},"metadata":{},"sourceType":"module"}